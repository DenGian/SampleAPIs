@use 'vars';
@use 'base';
@use 'nav';

main {
  position: fixed;
  perspective: 1500px;

  &.nav-open {
    width: 100%;
    height: 100%;
    overflow: hidden;
  }
}

@function cosmic_gradient() {
  $colorLength: length(vars.$color-gradient);
  $gradient: "";

  @for $i from 1 through $colorLength {
    @if $i < $colorLength {
      $gradient: $gradient + nth(vars.$color-gradient, $i) + ", ";
    } @else {
      $gradient: $gradient + nth(vars.$color-gradient, $i);
    }
  }
  @return $gradient;
}

.container {
  position: relative;
  background: #000;
  width: 100vw;
  height: calc(100vh - 20px);
  transition: transform 0.25s ease;
  z-index: 10;

  .nav-open & {
    user-select: none;
    touch-action: none;

    transform-origin: 0 50%;
    position: fixed;

    transform: translateZ(-125vw) translateX(-40%) rotateY(30deg);
    border-top: 10px solid #{nth(vars.$colors, 1)};
    border-bottom: 10px solid #{nth(vars.$colors, 1)};
    background-image: linear-gradient(#{cosmic_gradient()}), linear-gradient(#{cosmic_gradient()});
    background-size: 10px 100%;
    background-position: 0 0, 100% 0;
    background-repeat: no-repeat;
  }
}

header {
  display: flex;
  justify-content: space-between;
  padding: 1rem;
}
.logo {
  margin: 0;
}
