@use 'vars';

@import url("https://fonts.googleapis.com/css?family=Montserrat+Alternates:200,400,600,800");

html,
body {
  background: #222;
  color: white;
  margin: 0;
  padding: 0;
  height: 100vh;
  width: 100vw;
  font-family: "Montserrat Alternates";
}

main {
  perspective: 1500px;
  &.nav-open {
    position: fixed;
    width: 100%;
    height: 100%;
    overflow: hidden;
  }
}

@function cosmic_gradient() {
  $colorLength: length(vars.$color-gradient);
  $gradient: "";

  @for $i from 1 through $colorLength {
    @if $i < $colorLength {
      $gradient: $gradient + nth(vars.$color-gradient, $i) + ", ";
    } @else {
      $gradient: $gradient + nth(vars.$color-gradient, $i);
    }
  }
  @return $gradient;
}

.container {
  overflow-y: auto;
  position: relative;
  background: #000;
  width: 100vw;
  height: 100vh;
  transition: transform 0.25s ease;
  z-index: 10;

  .nav-open & {
    user-select: none;
    touch-action: none;

    transform-origin: 0 50%;
    position: fixed;

    transform: translateZ(-125vw) translateX(-40%) rotateY(30deg);
    border-top: 10px solid #{nth(vars.$colors, 1)};
    border-bottom: 10px solid #{nth(vars.$colors, 1)};
    background-image: linear-gradient(#{cosmic_gradient()}), linear-gradient(#{cosmic_gradient()});
    background-size: 10px 100%;
    background-position: 0 0, 100% 0;
    background-repeat: no-repeat;
  }
}

::-webkit-scrollbar-track {
  box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);
  background-color: #f5f5f5;
}

::-webkit-scrollbar {
  width: 10px;
  background-color: #f5f5f5;
}

::-webkit-scrollbar-thumb {
  background-color: #f90;
  background-image: linear-gradient(#{cosmic_gradient()});
}

[class~="?"] {
  border: 2px solid #d34ad8;
}
